job.id = replmon
job.version=20191205
job.name = Replication file monitor for backup

job.enabled = false


period=15000
cron-expression=

#period= -1
#cron-expression= 0 0 23 ? * MON-FRI

#\u00d0\u0095\u00d1\u0081\u00d0\u00bb\u00d0\u00b8 \u00d0\u00bd\u00d0\u00b5 \u00d1\u0083\u00d0\u00ba\u00d0\u00b0\u00d0\u00b7\u00d0\u00b0\u00d0\u00bd\u00d0\u00be monitor_directory - \u00d1\u0082\u00d0\u00be \u00d0\u00b1\u00d0\u00b5\u00d1\u0080\u00d1\u0091\u00d1\u0082\u00d1\u0081\u00d1\u008f \u00d0\u00bf\u00d1\u0083\u00d1\u0082\u00d1\u008c \u00d0\u00b8\u00d0\u00b7 \u00d0\u00bf\u00d0\u00b0\u00d1\u0080\u00d0\u00b0\u00d0\u00bc\u00d0\u00b5\u00d1\u0082\u00d1\u0080\u00d0\u00be\u00d0\u00b2 replication.config
monitor_directory=${db.repparam_log_archive_directory}
archive_file_template=*.chlog*

#encrypt_archive_files now is pack_archive_files - will changed in next config upgrade
encrypt_archive_files=true
encrypt_password=zipmasterkey
remove_packedcopy_after_upload=true
remove_sourcefile_after_upload=true

UploadToAmazonS3=false
AmazonS3BucketPrefix=replica-files-
AmazonS3CredentialCode1=AAAAAAAAAA
AmazonS3CredentialCode2=BBBBBBBBBB


UploadToFTP=false
FTPserver=www.myserver.com
FTPPort=21
FTPUser=usernameforftp
FTPpass=passwordforftp
FTPPassiveMode=true
FTPStoreFolder=databases0\/${db.id}\/
FTPOverSSL=false
KeyStorePassword=tlsmasterkey
KeyStoreJKSFile=
isImpicit=true
#isImpicit=true \u00d0\u00b4\u00d0\u00bb\u00d1\u008f SSL:990 false \u00d0\u00b4\u00d0\u00bb\u00d1\u008f SSL:21
# \u00d0\u009f\u00d1\u0080\u00d0\u00b8 \u00d0\u00b8\u00d1\u0081\u00d0\u00bf\u00d0\u00be\u00d0\u00bb\u00d1\u008c\u00d0\u00b7\u00d0\u00be\u00d0\u00b2\u00d0\u00b0\u00d0\u00bd\u00d0\u00b8\u00d0\u00b8 FileZill-\u00d1\u008b \u00d0\u00b1\u00d0\u00b5\u00d1\u0080\u00d1\u0091\u00d0\u00bc \u00d0\u00b8\u00d0\u00b7 \u00d0\u00bd\u00d0\u00b5\u00d1\u0091 \u00d1\u0081\u00d1\u0084\u00d0\u00be\u00d1\u0080\u00d0\u00bc\u00d0\u00b8\u00d1\u0080\u00d0\u00be\u00d0\u00b2\u00d0\u00b0\u00d0\u00bd\u00d0\u00bd\u00d1\u008b\u00d0\u00b9 cert - \u00d1\u0080\u00d0\u00b0\u00d0\u00b7\u00d0\u00b4\u00d0\u00b5\u00d0\u00bb\u00d1\u008f\u00d0\u00b5\u00d0\u00bc \u00d0\u00b5\u00d0\u00b3\u00d0\u00be \u00d0\u00bd\u00d0\u00b0 \u00d0\u00b4\u00d0\u00b2\u00d0\u00b0 \u00d1\u0084\u00d0\u00b0\u00d0\u00b9\u00d0\u00bb\u00d0\u00b0 (\u00d1\u0087\u00d0\u00b5\u00d1\u0080\u00d0\u00b5\u00d0\u00b7 notepad) - \u00d0\u00ba\u00d0\u00bb\u00d1\u008e\u00d1\u0087 \u00d0\u00b8 \u00d1\u0081\u00d0\u00b5\u00d1\u0080\u00d1\u0082\u00d0\u00b8\u00d1\u0084\u00d0\u00b8\u00d0\u00ba\u00d0\u00b0\u00d1\u0082, \u00d0\u00b8\u00d0\u00b7 \u00d0\u00bd\u00d0\u00b8\u00d1\u0085 \u00d0\u00b2 \u00d0\u00b4\u00d0\u00b2\u00d0\u00b0 \u00d1\u0088\u00d0\u00b0\u00d0\u00b3\u00d0\u00b0 \u00d1\u0084\u00d0\u00be\u00d1\u0080\u00d0\u00bc\u00d0\u00b8\u00d1\u0080\u00d1\u0083\u00d0\u00b5\u00d0\u00bc jks
# set RANDFILE=C:\Temp\a.rnd
# openssl.exe pkcs12 -export -in z:\HQBird\1\cert.crt -inkey z:\HQBird\1\key.crt > z:\HQBird\1\vsftpd.p12
# "c:\Program Files\Java\jre1.8.0_92\bin\keytool.exe" -importkeystore -srckeystore vsftpd.p12 -destkeystore keystore.jks -srcstoretype pkcs12    

#fix: tls session resumption - not supported!!!
# un-tick "Require TLC session resumption on data connection..." in the filezilla server -> settings -> FTP over TLS Settings -> un-tick the Require TLC session resumption on data connection when using PROT P    

UseSFTP=false
#UseSFTP with UploadToFTP will use FTPserver:FTPPort FTPUser/FTPpass


UploadToFTP1=false
FTPserver1=www.myserver1.com
FTPPort1=21
FTPUser1=usernameforftp
FTPpass1=passwordforftp
FTPPassiveMode1=true
FTPStoreFolder1=databases1\/${db.id}\/
FTPOverSSL1=false
KeyStorePassword1=tlsmasterkey
KeyStoreJKSFile1=
isImpicit1=true
UseSFTP1=false

UploadToFTP2=false
FTPserver2=www.myserver2.com
FTPPort2=21
FTPUser2=usernameforftp
FTPpass2=passwordforftp
FTPPassiveMode2=true
FTPStoreFolder2=databases2\/${db.id}\/
FTPOverSSL2=false
KeyStorePassword2=tlsmasterkey
KeyStoreJKSFile2=
isImpicit2=true
UseSFTP2=false

UploadToFTP3=false
FTPserver3=www.myserver3.com
FTPPort3=21
FTPUser3=usernameforftp
FTPpass3=passwordforftp
FTPPassiveMode3=true
FTPStoreFolder3=databases3\/${db.id}\/
FTPOverSSL3=false
KeyStorePassword3=tlsmasterkey
KeyStoreJKSFile3=
isImpicit3=true
UseSFTP3=false

UploadToFTP4=false
FTPserver4=www.myserver4.com
FTPPort4=21
FTPUser4=usernameforftp
FTPpass4=passwordforftp
FTPPassiveMode4=true
FTPStoreFolder4=databases4\/${db.id}\/
FTPOverSSL4=false
KeyStorePassword4=tlsmasterkey
KeyStoreJKSFile4=
isImpicit4=true
UseSFTP4=false


keep_n_source_files=10
#Failed connection attempts to disable FTP
attempts_to_fail=0

send_ok_report=true
FreshBackup=false

monitor_db_reini=true
reini_file_prefix=reinidb_
