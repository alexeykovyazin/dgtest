#Текущая реализация подразумевает копирвание файла конфигурации разным джобам (Nbackup уровням - которые выполнюятся по индивидуальным кронам, с подменой нужного поля)
#Уникальные поля
backup_level=1
job.id = nbackup1
job.version=20191205
job.name = Incremental backup level 1
job.enabled = false
cron-expression=0 45 3 ? * MON
#0 45 3 ? * MON    -> Fire at 3:45am every Monday

compress_backups=true
compressed_backup_extension=.zb1
remove_uncompressed=false

#Общие поля для всех
period=-1

#nbackupName is full path to nbackup that will be executed. If empty - then will be used nbackup[.exe] from server directory
nbackupName = 
maxDuration_sec = 86400
opt_params = -D ON

#По умолчанию путь к каталогу с файлами для заданий ${db.default-directory}/${job.id} - но поскольку у нас от нескольких уровней файлы должны лежать в одном каталоге. Укажим без id-джоба
backup-directory=${db.default-directory}/incrementals
min-dstfreespace-toalert=10000000

file-name-date-pattern={0,date,yyyyMMddHHmmss}
#Предлагаем по умолчанию хранить журнал в дефолтном каталоге output для базы. Если юзер будет хранить бакапы в ином месте (на сетевом диске), то отвал/недоступность этого диска не приведёт к пересозданию журнала, устраняется проблема с уникальностью имени журнала, в случае если юзер пожелает изменить расположение - это легко сделать. Используем старый параметр для хранения полного пути, чтобы избежать проблем с автообновлением (новый параметр при импорте создастся автоматом и перенаправит путь, "грохнув" старые журналы, в случае использования существующего параметра - имена в них сохранятся)
journal-name=${db.default-directory}/incrementals/xnbackup_files_${db.id}.journal

keep-only-n-old-level0 = 3
keep-only-n-old-level1 = 12
keep-only-n-old-level2 = 48
keep-only-n-old-level3 = 192
keep-only-n-old-level4 = 50


immediately-create-non-existing-low-levels = true
do-not-check-exists-low-level-files = false
do-not-alert-on-removed-files-by-journal-list = false

send-ok-report = false

packResultFile=false
moveResultFileToDir=

